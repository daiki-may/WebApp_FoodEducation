<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food Education Experiment</title>
    <link rel="stylesheet" href="style.css">
    <script src="script.js" defer></script>
</head>
<body>
    <img id="front-image" src="images/front.png" alt="Front Image">
    
    <!-- üé¨ Cloudflare R2 „ÅÆÂãïÁîª -->
    <div id="video-container">
        <video id="experiment-video" controls autoplay preload="auto">
            <source id="video-source" src="" type="video/mp4">
            „Åä‰Ωø„ÅÑ„ÅÆ„Éñ„É©„Ç¶„Ç∂„ÅØÂãïÁîª„Çí„Çµ„Éù„Éº„Éà„Åó„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ
        </video>
    </div>

    <!-- üé¨ ‰∫ãÂâç„Å´Ë™≠„ÅøËæº„ÇÄÂãïÁîªÔºàÈùûË°®Á§∫ & z-index: -1Ôºâ-->
    <div id="preload-videos"></div>


    <!-- ‚è≥ „É≠„Éº„Éá„Ç£„É≥„Ç∞ÁîªÈù¢ -->
    <div id="loading-screen">
        <div id="loading-text">Now Loading...</div>
        <div id="loading-subtext">Just a moment, please.</div>
        <div id="progress-bar-container">
            <div id="progress-bar"></div>
        </div>
    </div>


    <img id="plate-image" src="images/plate.png" alt="Plate Image">
    <img id="desk-image" src="images/desk.png" alt="Desk Image">

    <!-- üçì „Éï„É´„Éº„ÉÑÁîªÂÉè -->
    <div id="fruit-container">
        <img id="grape" class="fruit" src="images/real/grape.png"
             data-video-V_Japanese="https://pub-fefef8d68f874241adcdbdfb47c27d81.r2.dev/V_Japanese_Ex/grape2.mp4"
             data-video-VV_Japanese="https://pub-fefef8d68f874241adcdbdfb47c27d81.r2.dev/VV_Japanese_Ex/grape1.mp4"
             data-video-VVP_Japanese="https://pub-fefef8d68f874241adcdbdfb47c27d81.r2.dev/VVP_Japanese_Ex/grape2.mp4"
             data-duration="38000" alt="Grape">
        <img id="kiwi" class="fruit" src="images/real/kiwi.png"
             data-video-V_Japanese="https://pub-fefef8d68f874241adcdbdfb47c27d81.r2.dev/V_Japanese_Ex/kiwi2.mp4"
             data-video-VV_Japanese="https://pub-fefef8d68f874241adcdbdfb47c27d81.r2.dev/VV_Japanese_Ex/kiwi1.mp4"
             data-video-VVP_Japanese="https://pub-fefef8d68f874241adcdbdfb47c27d81.r2.dev/VVP_Japanese_Ex/kiwi2.mp4"
             data-duration="41000" alt="Kiwi">
        <img id="melon" class="fruit" src="images/real/melon.png"
             data-video-V_Japanese="https://pub-fefef8d68f874241adcdbdfb47c27d81.r2.dev/V_Japanese_Ex/melon2.mp4"
             data-video-VV_Japanese="https://pub-fefef8d68f874241adcdbdfb47c27d81.r2.dev/VV_Japanese_Ex/melon1.mp4"
             data-video-VVP_Japanese="https://pub-fefef8d68f874241adcdbdfb47c27d81.r2.dev/VVP_Japanese_Ex/melon2.mp4"
             data-duration="38000" alt="Melon">
        <img id="pine" class="fruit" src="images/real/pine.png"
             data-video-V_Japanese="https://pub-fefef8d68f874241adcdbdfb47c27d81.r2.dev/V_Japanese_Ex/pine2.mp4"
             data-video-VV_Japanese="https://pub-fefef8d68f874241adcdbdfb47c27d81.r2.dev/VV_Japanese_Ex/pine1.mp4"
             data-video-VVP_Japanese="https://pub-fefef8d68f874241adcdbdfb47c27d81.r2.dev/VVP_Japanese_Ex/pine2.mp4"
             data-duration="38000" alt="Pine">
        <img id="raspberry" class="fruit" src="images/real/raspberry.png"
             data-video-V_Japanese="https://pub-fefef8d68f874241adcdbdfb47c27d81.r2.dev/V_Japanese_Ex/raspberry2.mp4"
             data-video-VV_Japanese="https://pub-fefef8d68f874241adcdbdfb47c27d81.r2.dev/VV_Japanese_Ex/raspberry1.mp4"
             data-video-VVP_Japanese="https://pub-fefef8d68f874241adcdbdfb47c27d81.r2.dev/VVP_Japanese_Ex/raspberry2.mp4"
             data-duration="41000" alt="Raspberry">
        <img id="strawberry" class="fruit" src="images/real/strawberry.png"
             data-video-V_Japanese="https://pub-fefef8d68f874241adcdbdfb47c27d81.r2.dev/V_Japanese_Ex/strawberry2.mp4"
             data-video-VV_Japanese="https://pub-fefef8d68f874241adcdbdfb47c27d81.r2.dev/VV_Japanese_Ex/strawberry1.mp4"
             data-video-VVP_Japanese="https://pub-fefef8d68f874241adcdbdfb47c27d81.r2.dev/VVP_Japanese_Ex/strawberry2.mp4"
             data-duration="37000" alt="Strawberry">
    </div>

    <!-- üèÜ Experiment „Éú„Çø„É≥ -->
    <div id="experiment-buttons">
        <div id="experiment-text">Please select your experiment.</div>
        <div id="experiment-button-container">
            <button class="experiment-btn" data-experiment="V_Japanese">Ex1</button>
            <button class="experiment-btn" data-experiment="VV_Japanese">Ex2</button>
            <button class="experiment-btn" data-experiment="VVP_Japanese">Ex3</button>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            var videoElement = document.getElementById('experiment-video');

            // „Éï„É´„Éº„ÉÑ„Çí„ÇØ„É™„ÉÉ„ÇØ„Åô„Çã„Å®ÂØæÂøú„Åô„ÇãÂãïÁîª„ÇíÂÜçÁîü
            document.querySelectorAll('.fruit').forEach(function(fruit) {
                fruit.addEventListener('click', function() {
                    var selectedExperiment = document.querySelector('.experiment-btn.active')?.dataset.experiment || "V_Japanese";
                    var videoSrc = fruit.dataset[`video-${selectedExperiment}`];

                    if (videoSrc) {
                        videoElement.src = videoSrc;
                        videoElement.play();
                    }
                });
            });

            // ÂÆüÈ®ì„Éú„Çø„É≥„ÅÆÂàá„ÇäÊõø„Åà
            document.querySelectorAll('.experiment-btn').forEach(function(button) {
                button.addEventListener('click', function() {
                    document.querySelectorAll('.experiment-btn').forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                });
            });
        });
    </script>

</body>
</html>
